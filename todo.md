# Video Voice Remover - TODO

- [x] Schema de banco de dados (jobs table)
- [x] Instalar dependências Python (spleeter/librosa) via shell
- [x] Script Python de processamento de áudio (voice removal + mascaramento)
- [x] Endpoint Express para upload de vídeo (multipart/form-data, até 150MB)
- [x] Sistema de fila de jobs em memória com worker assíncrono
- [x] Rotas tRPC: uploadVideo, getJobStatus, downloadVideo, listJobs
- [x] Limpeza de metadados com ffmpeg
- [x] Re-codificação AAC 226kbps
- [x] Upload do vídeo processado para S3 com expiração 24h
- [x] Frontend: design system dark elegante (cores, tipografia, CSS vars)
- [x] Frontend: componente de upload drag-and-drop com validação 150MB
- [x] Frontend: lista de jobs com status em tempo real (polling)
- [x] Frontend: barra de progresso animada por etapa
- [x] Frontend: botão de download com URL pré-assinada
- [x] Frontend: feedback visual de cada etapa (fila → processando → concluído → erro)
- [x] Testes vitest para rotas principais
- [x] Checkpoint final
- [x] Correção: PYTHONHOME conflitando Python 3.13 com python3.11 no spawn do worker
- [x] Melhorar algoritmo: instalar Demucs (Meta AI) para separação de fontes por IA
- [x] Reescrever process_audio.py usando Demucs htdemucs para separar voz de fundo
- [x] Testar qualidade do áudio resultante com vídeo real
- [x] Analisar diferença exata entre áudio original e processado do amigo (comparação de waveform/espectro)
- [x] Implementar codificação Out-of-Phase Stereo perfeita (L=mono, R=-mono)
- [x] Testar: áudio 100% inteligível para humanos + cancelamento 95-100% para IA
- [x] Analisar frames do vídeo do amigo para identificar técnica visual usada
- [x] Implementar perturbação adversarial de vídeo (imperceptível para humanos, confunde IA de visão)
- [x] Integrar processamento de vídeo+áudio no pipeline único
- [x] Testar resultado com ferramenta de análise de vídeo por IA
- [x] Implementar perturbação adversarial visual multi-camada (noise+hue shift via ffmpeg nativo)
- [x] Integrar processamento visual ao pipeline (áudio + vídeo juntos)
- [x] Atualizar UI com opção de camada visual ativada/desativada
- [x] Testar resultado visual com ferramenta de análise por IA
- [x] Aumentar limite de upload de 150MB para 200MB (backend + frontend)
